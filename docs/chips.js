import{L as e,c as t,h as o,e as a}from"./common.js";import"./common2.js";import"./ripple.js";const s=new Map,r=(e,t)=>{s.set(e,[...s.get(e)||[],t].filter(Boolean))},i=e=>(s.get(e)||[]).filter(Boolean);class h extends e{static get styles(){return[t`:host{display:flex;padding:4px;box-sizing:border-box;overflow-x:auto}div{display:flex}::slotted(mega-chip){margin-right:4px}`,i("mega-chip-set")]}render(){return o`<div><slot></slot></div>`}}class l extends e{constructor(){super(...arguments),this.disabled=!1,this.raised=!1,this.focused=!1,this.selected=!1,this.hasVisual=!1,this.theme="light",this.updateState=()=>{const e=this.input.type;this.selected=this.input.checked,this.focused=document.activeElement===this.input,this.type=e,this.disabled=this.input.disabled}}static get styles(){return[a,t`:host{display:block;-webkit-tap-highlight-color:transparent;border-radius:16px;height:32px;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.01786em;position:relative}mega-ripple{border-radius:inherit;white-space:nowrap;display:flex;position:relative;align-items:center}.fastshadow{width:100%;height:100%;position:absolute;border-radius:16px;box-shadow:var(--elevation-03);top:0;pointer-events:none;opacity:0;will-change:opacity;transition:opacity 280ms cubic-bezier(.4,0,.2,1)}:host(:active:not([disabled])) .fastshadow{opacity:1}:host ::slotted(input){-moz-appearance:none;-webkit-appearance:none;appearance:none;height:100%;width:100%;position:absolute;top:0;left:0;opacity:0;display:block;margin:0;padding:0}:host(:not([disabled])) ::slotted(input){cursor:pointer}.text{padding:0 12px 0 4px}.checkmark{height:21px;margin:-2px -2px -5px 8px;width:0;transition:width 150ms cubic-bezier(.4,0,.2,1)}.checkmark path{transition:stroke-dashoffset 150ms 50ms cubic-bezier(.4,0,.6,1);stroke-width:2px;stroke-dashoffset:29.78334;stroke-dasharray:29.78334}:host([type=checkbox][selected]) .checkmark{width:21px}:host([type=checkbox][selected]) .checkmark path{stroke-dashoffset:0}slot[name=visual]::slotted(*){display:inline-block;width:24px;height:24px;margin:-3px -1px -7px 4px;border-radius:calc(24px / 2)}slot[name=visual]::slotted(mega-icon){--mega-icon-size:18px;width:18px;height:18px;margin:-2px -2px -4px 7px}:host(:not([type=radio])[has-visual]) .checkmark{height:17px;position:absolute;left:-3px;top:8.5px}:host(:not([type=radio])[has-visual]) .checkmark path{stroke-width:2.5px}`,i("mega-chip")]}connectedCallback(){const e=this.querySelector("input");if(!e)throw new Error("<mega-chip/> must have a input element as child");this.input=e,super.connectedCallback(),this.mutationObserver=new MutationObserver(this.updateState),this.mutationObserver.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["disabled"]}),this.updateState(),this.input.addEventListener("blur",this.updateState,{passive:!0}),this.input.addEventListener("focus",this.updateState,{passive:!0}),(e.closest("form")||e.getRootNode()).addEventListener("change",this.updateState,{passive:!0})}disconnectedCallback(){this.mutationObserver.disconnect(),super.disconnectedCallback()}slotChange(e){const t=e.target;this.hasVisual=t.assignedNodes().length>0}render(){return o`<mega-ripple ?disabled=${this.disabled} ?primary=${"radio"===this.type}><slot name=visual @slotchange=${this.slotChange}></slot><svg viewBox="-4 -4 30 30" class=checkmark><path fill=none d="M1.73,12.91 8.1,19.28 22.79,4.59" part=path /></svg><slot name=input></slot><span class=text><slot></slot></span></mega-ripple><div class=fastshadow></div>`}}l.properties={type:{type:String,reflect:!0},disabled:{type:Boolean,reflect:!0},raised:{type:Boolean,reflect:!0},focused:{type:Boolean,reflect:!0},selected:{type:Boolean,reflect:!0},hasVisual:{type:Boolean,reflect:!0,attribute:"has-visual"},theme:{type:String,reflect:!0}},r("mega-chip",t`:host([theme=light]){background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.6)}:host([theme=light][disabled]){background-color:rgba(0,0,0,.043);color:rgba(0,0,0,.3)}:host([theme=light]:hover:not([disabled]):not([selected])){background-color:rgba(0,0,0,.16);color:rgba(0,0,0,.81)}:host([theme=light][focused]:not([disabled]):not([selected])){background-color:rgba(0,0,0,.22);color:rgba(0,0,0,.86)}:host([theme=light]:active:not([disabled]):not([selected])){color:rgba(0,0,0,.86)}:host([theme=light][type=radio][selected]){color:var(--mega-theme-primary,#6200ee);background-color:rgba(227,213,255,.976)}:host([theme=light][type=radio][selected]):hover{color:var(--mega-theme-primary,#6200ee)}:host([theme=light]:not([type=radio])[selected]){background-color:rgba(0,0,0,.23);color:rgba(0,0,0,1)}:host([theme=light]) .checkmark path{stroke:rgba(0,0,0,1)}`),r("mega-chip",t`:host([theme=dark]){background-color:rgba(255,255,255,.12);color:rgba(255,255,255,.6)}:host([theme=dark][disabled]){background-color:rgba(255,255,255,.043);color:rgba(255,255,255,.3)}:host([theme=dark]:hover:not([disabled]):not([selected])){background-color:rgba(255,255,255,.16);color:rgba(255,255,255,.81)}:host([theme=dark][focused]:not([disabled]):not([selected])){background-color:rgba(255,255,255,.22);color:rgba(255,255,255,.86)}:host([theme=dark]:active:not([disabled]):not([selected])){color:rgba(255,255,255,.86)}:host([theme=dark][type=radio][selected]){color:var(--mega-theme-primary,#6200ee);background-color:rgba(227,213,255,.976)}:host([theme=dark][type=radio][selected]):hover{color:var(--mega-theme-primary,#6200ee)}:host([theme=dark]:not([type=radio])[selected]){background-color:rgba(255,255,255,.23);color:rgba(255,255,255,1)}:host([theme=dark]) .checkmark path{stroke:rgba(255,255,255,1)}`),window.customElements.define("mega-chip-set",h),window.customElements.define("mega-chip",l);export{l as ChipElement,h as ChipSetElement};
